---
layout: post
categories: java 
---

>突然想到把自己平时用到的，网上看到的java编程过程中的小技巧总结下来~~

 **1**. 循环中尽量不要使用try..catch 代码块，应该将其放在最外层

 **2**. if语句中,判断条件尽量不要使用if(!...)的形式，这样只会使代码更加难以理解

 **3**. 循环内不要不断创建对象引用，而应该：

    `Object obj = null;
     for (int i = 0; i <= count; i++) { 
      obj = new Object(); 
     }`

 **4**. 不要在循环条件中重复计算变量，比如：

    `for (int i = 0; i <= obj.size(); i++){...}`

 **5**. 避免使用”魔术数字”,所有的数字值都应该赋予一个有意义的变量，使用这个变量，而不是数字

 **6**. 尽量采用懒加载的策略，即在需要的时候才创建,例如：

    `String str = "aaa";
    if (i == 1) { 
       list.add(str);
    }`

	 建议替换为：

	`if (i == 1) { 
     String str = "aaa"; list.add(str);
   }`

 **7**. 使用同步代码块替代同步方法,同步代码块里只放需要同步的代码

 **8**. 乘(除)2或者2的倍数时，尽量选择移位操作，提高性能

 **9**. 使用&& ,\|\| 操作符时，将首先需要满足的条件置于操作符之前。因为&& 和 \|\| 具有短路性。另外，体会if(e. key==k\|\|k.equals(e.key)) 的细节。判断条件的目的是要求满足k.equals(e.key)。用\|\|将（e.key==k）与 k.equals(e.key)连接起来，在性能上有更好的表现。（HashMap源码）

 **10**. 尽量用for each语句代替for循环

 **11**. 在java中小数类型默认为double,若对精度没有很高要求，应该显示的声明为float.如 3.14f。

 **12**. 调用equals()函数时(或其他类似函数)，将string字符串放在左边进行比较，防止空指针异常。
    
    `if("hello".equals(variable)){...}`

 **13**. 在使用一些通过返回int判断状态的函数时，不要相信-1。比如：

    `if(string.indexof(character) != -1){...}`

    应改为：

    `if(string.indexof(character) >0 ){...}`

 **14**. 避免意外的赋值，比如：
 
    `if(variable == 5){...}`

    应改为：

    `if(5 == variable){...}`

    避免不小心将5赋给variable。但是在我使用jdk1.7的时候，倘如你在条件判断语句中写出`if(variable = 5)`这样的句子，编译器会自动报警。不过，养成好的编程习惯总是没有错的~

 **15**. 检查NULL。在调用集合或者数组的成员函数时，请确保他已经存在，而不是NULL。这是我编程时很容易犯的错误。比如：

	`if(array.length > 0){...}`

	应改为：

	`if(array != null && array.length > 0)`

 **16**. 确保只有一个退出点。比如：

    `private boolean isEligible(int age){

    	if(age > 18) {

    		return true;

    	} else {

            return false;
    	}

    }`

    应改为：

    `private boolean isEligible(int age){

    	boolean result;

    	if(age > 18) {

    		result = true;

    	} else {

            result = false;
    	}

    	return result;

    }`

 **17**. 以final类型标记方法参数。当你不小心修改参数值时，编译器会报警。

 	`private boolean isEligible(final int age){...}`

 **18**. 把多个if语句组合成单一if语句。比如：

	`if(age > 18){
		if(!man){...}
	}`

	应改为：

	`if(age > 18 && !man){...}`


